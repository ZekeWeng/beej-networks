# IP Addresses, Part Deux

## IP Address Conversion Functions

### 1. String to Network Address (`inet_pton`)
Converts human-readable IP addresses to network format.

```c
// IPv4
inet_pton(AF_INET, "192.168.1.1", &(sa.sin_addr));

// IPv6
inet_pton(AF_INET6, "2001:db8::1", &(sa6.sin6_addr));
```

### 2. Network Address to String (`inet_ntop`)
Converts network format addresses to human-readable strings.

```c
// IPv4
char ip4[INET_ADDRSTRLEN];
inet_ntop(AF_INET, &(sa.sin_addr), ip4, INET_ADDRSTRLEN);

// IPv6
char ip6[INET6_ADDRSTRLEN];
inet_ntop(AF_INET6, &(sa6.sin6_addr), ip6, INET6_ADDRSTRLEN);
```

## Buffer Sizes
- `INET_ADDRSTRLEN`: 16 bytes (for IPv4)
- `INET6_ADDRSTRLEN`: 46 bytes (for IPv6)

## Private Networks and NAT

### Private IP Ranges
Common private network ranges:
- `10.0.0.0` to `10.255.255.255` (10.0.0.0/8)
- `172.16.0.0` to `172.31.255.255` (172.16.0.0/12)
- `192.168.0.0` to `192.168.255.255` (192.168.0.0/16)

### Network Address Translation (NAT)
- Translates internal private IP addresses to external public IP addresses
- Allows multiple devices to share a single public IP address
- Common in home and business networks
- Provides basic security by hiding internal network structure

### Firewall and NAT
- Firewalls often implement NAT
- Translates internal unique addresses to external shared addresses
- Example: Internal network using `10.x.x.x` addresses translated to a single public IP

## Best Practices
1. Always use `inet_pton()` for input validation
2. Check return values of conversion functions
3. Use appropriate buffer sizes for string storage
4. Consider IPv6 compatibility in modern applications
5. Be aware of NAT implications when designing network applications